(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{L6id:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),o=function(){return function(){}}(),i=l("pMnS"),r=l("oBZk"),u=l("ZZ/e"),a=l("ZYCi"),c=l("Ip0R"),s=l("gIcY"),b=l("mrSG"),d=l("EnSQ"),g=l("+tLe"),h=function(){function n(n,t,l,e){this.http=n,this.dataService=t,this.alertController=l,this.modalController=e}return n.prototype.ngOnInit=function(){this.showSpinner=!0,this.isRecording=this.dataService.getIsRecording(),this.camList=["Microsoft LifeCam Cinema","Microsoft LifeCam HD-5000","Microsoft LifeCam VX-700","Microsoft LifeCam Studio","Microsoft LifeCam HD-3000","Logitech Webcam C200","Logitech Webcam C210","Logitech Webcam C250","Logitech Webcam HD C270","Logitech Webcam HD C310","Logitech Webcam C600","Logitech Webcam HD C525","Logitech Webcam HD C615","Logitech Webcam C905","Logitech Webcam HD C910","Logitech Webcam HD C920","Logitech Quickcam Pro 5000","Logitech Quickcam Pro 9000"]},n.prototype.ionViewWillEnter=function(){var n=this;this.dataService.retrieveSettingsDataFromDB().subscribe((function(t){n.camera=t.camera,n.dataService.setData(t),"ON"===t.recordingState?(n.isRecording=!0,n.dataService.setIsRecording(!0)):(n.isRecording=!1,n.dataService.setIsRecording(!1)),n.camImage=n.setCameraImage(n.isRecording),n.dataService.getErrorLogfromDB().subscribe((function(t){n.dataService.setErrorLog(t),n.showSpinner=!1})),n.dataService.retrieveCamDataFromDB(n.camera)}))},n.prototype.startRecording=function(){var n=this.dataService.getConfigData(),t=n.IPAddress,l=n.NodePort;this.isRecording=!0,this.dataService.setIsRecording(!0),this.camImage="assets/CamOn/"+this.camera+"-on.png",this.http.get("http://"+t+":"+l+"/livestream/startRecording").subscribe()},n.prototype.stopRecording=function(){var n=this.dataService.getConfigData(),t=n.IPAddress,l=n.NodePort;this.isRecording=!1,this.dataService.setIsRecording(!1),this.camImage="assets/CamOff/"+this.camera+"-off.png",this.http.get("http://"+t+":"+l+"/livestream/stopRecording").subscribe()},n.prototype.getErrorLog=function(){var n=this.dataService.getConfigData();this.http.get("http://"+n.IPAddress+":"+n.NodePort+"/app-settings/errorlog/data/all").subscribe((function(n){console.log(n)}))},n.prototype.showErrorLog=function(){return b.b(this,void 0,void 0,(function(){return b.e(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:g.a,cssClass:"my-modal"})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()]}}))}))},n.prototype.setCameraImage=function(n){return this.isRecording?"assets/CamOn/"+this.camera+"-on.png":"assets/CamOff/"+this.camera+"-off.png"},n.prototype.selectionChange=function(){this.camImage=this.setCameraImage(this.isRecording),this.dataService.updateCamera(this.camera),this.showSpinner||this.dataService.retrieveCamDataFromDB(this.camera)},n.prototype.startStreamServer=function(){if(this.isRecording){var n=this.dataService.getConfigData();this.http.get("http://"+n.IPAddress+":"+n.NodePort+"/livestream/start").subscribe()}},n.prototype.shutDownConfirm=function(){return b.b(this,void 0,void 0,(function(){var n=this;return b.e(this,(function(t){switch(t.label){case 0:return[4,this.alertController.create({header:"Warning",message:"RaspberryPi will shutdown. Are you sure?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Shutdown",handler:function(){n.shutDown()}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}}))}))},n.prototype.shutDown=function(){var n=this.dataService.getConfigData();this.http.get("http://"+n.IPAddress+":"+n.NodePort+"/videos/shutdown").subscribe()},n}(),m=l("t/Na"),p=e.rb({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{--ion-color-primary:#353d55;--border-color:#222;--border-width:1px 0px;--border-style:solid}ion-header[_ngcontent-%COMP%]::after{background-image:none}.page-title[_ngcontent-%COMP%]{font-size:20px;color:#fcfcfc}.buttonContainer[_ngcontent-%COMP%]{border-bottom:1px;border-top:0;border-left:0;border-right:0;border-color:#b1b1b1;border-style:solid}.buttonContainer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;display:block;text-align:center;--background:#fff;--color:#000;--border-width:0.5px 0px 0px 0px;--border-color:rgb(177, 177, 177);--background-hover:rgb(212, 225, 238);--background-activated:rgb(212, 225, 238);--border-style:solid;--border-radius:0px;margin:0 auto}ion-button[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.shutdown-button[_ngcontent-%COMP%]{width:100%;display:block;text-align:center;--background:rgba(253, 56, 56, 0.747);--color:#000;--border-width:0.5px 0px 0px 0px;--border-color:rgb(177, 177, 177);--background-hover:rgb(255, 162, 162);--background-activated:rgb(212, 225, 238);--border-style:solid;--border-radius:0px;margin:0 auto}.buttonContainer[_ngcontent-%COMP%]   ion-button.button-disabled[_ngcontent-%COMP%]{--background:#ddd;--color:#6f6f6f}ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff;width:100%!important;padding-top:10px}ion-item[_ngcontent-%COMP%]{width:100%;display:block;margin-left:auto;margin-right:auto;display:-webkit-box;display:flex;--background-color:#fff}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{min-width:25%;--background-color:transparent}ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:75%;text-align:right;--background-color:transparent;font-size:15px}.alert-radio-label[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100%;min-height:200px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}ion-img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:10px;width:auto;height:auto}"]],data:{}});function f(n){return e.Kb(0,[(n()(),e.tb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.M,r.q)),e.sb(1,49152,null,0,u.ob,[e.h,e.k,e.z],{value:[0,"value"]},null),(n()(),e.Jb(2,0,["",""]))],(function(n,t){n(t,1,0,e.xb(1,"",t.context.$implicit,""))}),(function(n,t){n(t,2,0,t.context.$implicit)}))}function C(n){return e.Kb(0,[(n()(),e.tb(0,0,null,null,1,"ion-spinner",[],null,null,null,r.O,r.r)),e.sb(1,49152,null,0,u.sb,[e.h,e.k,e.z],null,null)],null,null)}function k(n){return e.Kb(0,[(n()(),e.tb(0,0,null,null,1,"ion-img",[],null,null,null,r.G,r.j)),e.sb(1,49152,null,0,u.D,[e.h,e.k,e.z],{src:[0,"src"]},null)],(function(n,t){n(t,1,0,t.component.camImage)}),null)}function v(n){return e.Kb(0,[(n()(),e.tb(0,0,null,null,6,"ion-header",[],null,null,null,r.E,r.h)),e.sb(1,49152,null,0,u.B,[e.h,e.k,e.z],null,null),(n()(),e.tb(2,0,null,0,4,"ion-toolbar",[["class","header"],["color","primary"],["mode","ios"]],null,null,null,r.S,r.v)),e.sb(3,49152,null,0,u.Cb,[e.h,e.k,e.z],{color:[0,"color"],mode:[1,"mode"]},null),(n()(),e.tb(4,0,null,0,2,"ion-title",[["class","ion-text-center page-title"]],null,null,null,r.Q,r.t)),e.sb(5,49152,null,0,u.Ab,[e.h,e.k,e.z],null,null),(n()(),e.Jb(-1,0,[" Pi Dashcam "])),(n()(),e.tb(7,0,null,null,45,"ion-content",[],null,null,null,r.C,r.f)),e.sb(8,49152,null,0,u.u,[e.h,e.k,e.z],null,null),(n()(),e.tb(9,0,null,0,0,"div",[["style","height: 20px;"]],null,null,null,null,null)),(n()(),e.tb(10,0,null,0,19,"div",[["class","buttonContainer"]],null,null,null,null,null)),(n()(),e.tb(11,0,null,null,4,"ion-button",[["mode","ios"],["routerDirection","forward"],["routerLink","/video-list"]],null,[[null,"click"]],(function(n,t,l){var o=!0;return"click"===t&&(o=!1!==e.Fb(n,13).onClick()&&o),"click"===t&&(o=!1!==e.Fb(n,14).onClick(l)&&o),o}),r.z,r.c)),e.sb(12,49152,null,0,u.k,[e.h,e.k,e.z],{mode:[0,"mode"],routerDirection:[1,"routerDirection"]},null),e.sb(13,16384,null,0,a.n,[a.m,a.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.sb(14,737280,null,0,u.Kb,[c.g,u.Hb,e.k,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),e.Jb(-1,0,[" View Videos "])),(n()(),e.tb(16,0,null,null,4,"ion-button",[["mode","ios"],["routerDirection","forward"],["routerLink","/live-stream"]],null,[[null,"click"]],(function(n,t,l){var o=!0,i=n.component;return"click"===t&&(o=!1!==e.Fb(n,18).onClick()&&o),"click"===t&&(o=!1!==e.Fb(n,19).onClick(l)&&o),"click"===t&&(o=!1!==i.startStreamServer()&&o),o}),r.z,r.c)),e.sb(17,49152,null,0,u.k,[e.h,e.k,e.z],{mode:[0,"mode"],routerDirection:[1,"routerDirection"]},null),e.sb(18,16384,null,0,a.n,[a.m,a.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.sb(19,737280,null,0,u.Kb,[c.g,u.Hb,e.k,a.m,[2,a.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),e.Jb(-1,0,[" View Livestream "])),(n()(),e.tb(21,0,null,null,2,"ion-button",[["mode","ios"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.startRecording()&&e),e}),r.z,r.c)),e.sb(22,49152,null,0,u.k,[e.h,e.k,e.z],{disabled:[0,"disabled"],mode:[1,"mode"]},null),(n()(),e.Jb(-1,0,[" Start Recording "])),(n()(),e.tb(24,0,null,null,2,"ion-button",[["mode","ios"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.stopRecording()&&e),e}),r.z,r.c)),e.sb(25,49152,null,0,u.k,[e.h,e.k,e.z],{disabled:[0,"disabled"],mode:[1,"mode"]},null),(n()(),e.Jb(-1,0,[" Stop Recording "])),(n()(),e.tb(27,0,null,null,2,"ion-button",[["mode","ios"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.showErrorLog()&&e),e}),r.z,r.c)),e.sb(28,49152,null,0,u.k,[e.h,e.k,e.z],{mode:[0,"mode"]},null),(n()(),e.Jb(-1,0,[" Error Log "])),(n()(),e.tb(30,0,null,0,14,"div",[["class","button"],["style","padding-left: 2px;"]],null,null,null,null,null)),(n()(),e.tb(31,0,null,null,13,"ion-item",[],null,null,null,r.I,r.l)),e.sb(32,49152,null,0,u.H,[e.h,e.k,e.z],null,null),(n()(),e.tb(33,0,null,0,2,"ion-label",[["va",""]],null,null,null,r.J,r.m)),e.sb(34,49152,null,0,u.N,[e.h,e.k,e.z],null,null),(n()(),e.Jb(-1,0,["Webcam"])),(n()(),e.tb(36,0,null,0,8,"ion-select",[["mode","ios"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,t,l){var o=!0,i=n.component;return"ionBlur"===t&&(o=!1!==e.Fb(n,37)._handleBlurEvent(l.target)&&o),"ionChange"===t&&(o=!1!==e.Fb(n,37)._handleChangeEvent(l.target)&&o),"ngModelChange"===t&&(o=!1!==(i.camera=l)&&o),"ionChange"===t&&(o=!1!==i.selectionChange()&&o),o}),r.N,r.p)),e.sb(37,16384,null,0,u.Lb,[e.k],null,null),e.Gb(1024,null,s.b,(function(n){return[n]}),[u.Lb]),e.sb(39,671744,null,0,s.e,[[8,null],[8,null],[8,null],[6,s.b]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,s.c,null,[s.e]),e.sb(41,16384,null,0,s.d,[[4,s.c]],null,null),e.sb(42,49152,null,0,u.nb,[e.h,e.k,e.z],{disabled:[0,"disabled"],mode:[1,"mode"]},null),(n()(),e.ib(16777216,null,0,1,null,f)),e.sb(44,278528,null,0,c.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.tb(45,0,null,0,4,"div",[["class","image"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,C)),e.sb(47,16384,null,0,c.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,k)),e.sb(49,16384,null,0,c.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.tb(50,0,null,0,2,"ion-button",[["class","shutdown-button"],["mode","ios"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.shutDownConfirm()&&e),e}),r.z,r.c)),e.sb(51,49152,null,0,u.k,[e.h,e.k,e.z],{mode:[0,"mode"]},null),(n()(),e.Jb(-1,0,[" Shutdown "]))],(function(n,t){var l=t.component;n(t,3,0,"primary","ios"),n(t,12,0,"ios","forward"),n(t,13,0,"/video-list"),n(t,14,0,"forward"),n(t,17,0,"ios","forward"),n(t,18,0,"/live-stream"),n(t,19,0,"forward"),n(t,22,0,l.isRecording,"ios"),n(t,25,0,!l.isRecording,"ios"),n(t,28,0,"ios"),n(t,39,0,e.xb(1,"",l.isRecording,""),l.camera),n(t,42,0,e.xb(1,"",l.isRecording,""),"ios"),n(t,44,0,l.camList),n(t,47,0,l.showSpinner),n(t,49,0,!l.showSpinner),n(t,51,0,"ios")}),(function(n,t){n(t,36,0,e.Fb(t,41).ngClassUntouched,e.Fb(t,41).ngClassTouched,e.Fb(t,41).ngClassPristine,e.Fb(t,41).ngClassDirty,e.Fb(t,41).ngClassValid,e.Fb(t,41).ngClassInvalid,e.Fb(t,41).ngClassPending)}))}function D(n){return e.Kb(0,[(n()(),e.tb(0,0,null,null,1,"app-home",[],null,null,null,v,p)),e.sb(1,114688,null,0,h,[m.c,d.a,u.a,u.Gb],null,null)],(function(n,t){n(t,1,0)}),null)}var w=e.pb("app-home",h,D,{},{},[]);l.d(t,"HomePageModuleNgFactory",(function(){return x}));var x=e.qb(o,[],(function(n){return e.Cb([e.Db(512,e.j,e.bb,[[8,[i.a,w]],[3,e.j],e.x]),e.Db(4608,c.k,c.j,[e.u,[2,c.q]]),e.Db(4608,s.g,s.g,[]),e.Db(4608,u.b,u.b,[e.z,e.g]),e.Db(4608,u.Gb,u.Gb,[u.b,e.j,e.q]),e.Db(4608,u.Jb,u.Jb,[u.b,e.j,e.q]),e.Db(1073742336,c.b,c.b,[]),e.Db(1073742336,s.f,s.f,[]),e.Db(1073742336,s.a,s.a,[]),e.Db(1073742336,u.Eb,u.Eb,[]),e.Db(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),e.Db(1073742336,o,o,[]),e.Db(1024,a.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);